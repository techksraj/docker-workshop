1) docker login -> to login into Docker account, opens browser and asks you to enter confirmation code followed by login credentials.

2) docker run hello-world -> Below is the output:

        Unable to find image 'hello-world:latest' locally
        latest: Pulling from library/hello-world
        198f93fd5094: Pull complete 
        Digest: sha256:05813aedc15fb7b4d732e1be879d3252c1c9c25d885824f6295cab4538cb85cd
        Status: Downloaded newer image for hello-world:latest

        Hello from Docker!
        This message shows that your installation appears to be working correctly.

        To generate this message, Docker took the following steps:
        1. The Docker client contacted the Docker daemon.
        2. The Docker daemon pulled the "hello-world" image from the Docker Hub.
            (arm64v8)
        3. The Docker daemon created a new container from that image which runs the
            executable that produces the output you are currently reading.
        4. The Docker daemon streamed that output to the Docker client, which sent it
            to your terminal.

        To try something more ambitious, you can run an Ubuntu container with:
        $ docker run -it ubuntu bash

3) docker run -it python:3.13.11-slim -> to run a container from python docker image with entry point as python terminal

4) docker run -it entrypoint=bash python:3.13.11-slim -> run a container with python but instead of python terminal it will by default open bash

5) Docker containers are stateless. 

6) docker ps -a -> returns details about all the containers running. Output:

    CONTAINER ID   IMAGE                                           COMMAND                  CREATED          STATUS                      PORTS     NAMES
    ba9d8463d9e3   python:3.13.11-slim                             "python3"                4 minutes ago    Exited (0) 3 minutes ago              kind_colden
    59af36263b57   hello-world                                     "/hello"                 12 minutes ago   Exited (0) 12 minutes ago             mystifying_buck
    6c29ecad023a   airflow-3-dag-authoring_4b36de/airflow:latest   "tini -- /entrypoint…"   4 months ago     Exited (0) 3 months ago               airflow-3-dag-authoring_4b36de-scheduler-1
    33829ca87fbc   airflow-3-dag-authoring_4b36de/airflow:latest   "tini -- /entrypoint…"   4 months ago     Exited (0) 3 months ago               airflow-3-dag-authoring_4b36de-triggerer-1
    6c2e882ae4b8   airflow-3-dag-authoring_4b36de/airflow:latest   "tini -- /entrypoint…"   4 months ago     Exited (0) 3 months ago               airflow-3-dag-authoring_4b36de-api-server-1
    d6a906347c54   airflow-3-dag-authoring_4b36de/airflow:latest   "tini -- /entrypoint…"   4 months ago     Exited (0) 3 months ago               airflow-3-dag-authoring_4b36de-dag-processor-1
    0dc28e88798d   airflow-3-dag-authoring_4b36de/airflow:latest   "tini -- /entrypoint…"   4 months ago     Exited (0) 4 months ago               airflow-3-dag-authoring_4b36de-db-migration-1
    5c7917604360   postgres:12.6                                   "docker-entrypoint.s…"   4 months ago     Exited (0) 3 months ago               airflow-3-dag-authoring_4b36de-postgres-1

7) docker ps -aq -> prints all the running CONTAINER ID

8) docker rm 'docker ps -aq' -> will delete all the running containers by CONTAINER ID

9) docker run -it --entrypoint=bash -v $(pwd)/test:/app/test  python:3.13.11-slim -> to map a volume $(pwd)/test in host machine to /app/test in docker container

10) pip3 install uv -> to install uv package inside the container. uv is used for creating virtual environments.

11) uv init --python 3.13 -> to create a virtual environment with python version 3.13

12) uv add pandas pyarrow -> to add pandas and pyarrow packages to the virtual environment

13) docker build -t test:pandas . -> to build a docker image with name test and tag pandas. The dot at the end specifies that the Dockerfile is in the current directory.

14) docker run -it --entrypoint=bash --rm test:pandas -> to run the docker image test with tag pandas. --rm flag is used to remove the container once it stops.

15) docker build -t test:pandas . -> after making changes to the Dockerfile, to rebuild the image with the same name and tag.

16) docker run -it --rm \
  -e POSTGRES_USER="root" \
  -e POSTGRES_PASSWORD="root" \
  -e POSTGRES_DB="ny_taxi" \
  -v ny_taxi_postgres_data:/var/lib/postgresql \
  -p 5432:5432 \
  postgres:18   -> to run a Postgres database in a docker container with environment variables for user, password and database name. Also mapping the volume ny_taxi_postgres_data to /var/lib/postgresql in the container and exposing port 5432.

17) uv run --active pgcli -h localhost -p 5432 -u root -d ny_taxi -> to connect to the Postgres database running in the docker container using pgcli.
        If the above steps results in below error:
            n import_from_libpq
            raise ImportError(
            ...<4 lines>...
                    )
        ImportError: no pq wrapper available.
        Attempts made:
        - couldn't import psycopg 'c' implementation: No module named 'psycopg_c'
        - couldn't import psycopg 'binary' implementation: No module named 'psycopg_binary'
        - couldn't import psycopg 'python' implementation: libpq library not found
        
        Then install psycopg with the below command and re-run the above uv run command:
            uv pip install --upgrade psycopg
            export PATH="$(brew --prefix libpq)/bin:$PATH"

18) uv add --dev jupyter -> to add jupyter as a dev dependency in the virtual environment.

19) uv run jupyter notebook -> to run jupyter notebook inside the docker container.

20) http://localhost:8888/tree -> to access jupyter notebook in the browser.

21) URLError: <urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1032)> -> this error occurs when there is an SSL certificate verification issue. To fix this, run the following commands in the terminal:

    /Applications/Python\ 3.13/Install\ Certificates.command

    and then restart the jupyter notebook server.

    add the below code for it to work:
        import pandas as pd
        import certifi
        import ssl
        import urllib.request

        # Create SSL context with certifi certificates
        ssl_context = ssl.create_default_context(cafile=certifi.where())

        prefix = 'https://github.com/DataTalksClub/nyc-tlc-data/releases/download/yellow/'
        url = f'{prefix}yellow_tripdata_2021-01.csv.gz'

        df = pd.read_csv(url)
        print(df.head())

22) uv run jupyter nbconvert --to script notebook.ipynb -> to convert jupyter notebook notebook.ipynb to a python script notebook.py

23) uv run python ingest_data.py -> to run the ingest_data.py script inside the docker container.

24) docker build -t taxi_ingest:v001 . -> to build a docker image with name taxi_ingest and tag v001.

25) uv run python ingest_data.py --pg-user=root --pg-password=root --pg-host=localhost --pg-port=5432 --pg-db=ny_taxi --target-table=yellow_taxi_trips_2021_1 --year=2021 --month=1 -> to run the ingest_data.py script with command line arguments for Postgres connection and target table name.

26) docker run -it --rm \
  --network=pg-network \
  taxi_ingest:v001 \
  --pg-user="root" \
  --pg-password="root" \
  --pg-host="host.docker.internal" \
  --pg-port="5432" \
  --pg-db="ny_taxi" \
  --target-table="yellow_taxi_trips_2021_1"  
  -> to run the taxi_ingest docker image with environment variables for Postgres connection and command line arguments for target table name, year and month. Note that PGHOST is set to host.docker.internal to connect to the Postgres database running on the host machine.

27) Run it with network:
        docker run -it --rm \
        -e POSTGRES_USER="root" \
        -e POSTGRES_PASSWORD="root" \
        -e POSTGRES_DB="ny_taxi" \
        -v ny_taxi_postgres_data:/var/lib/postgresql \
        -p 5432:5432 \
        --network=pg-network \
        --name pgdatabase
        postgres:18

28) docker run -it --rm \
  --network=pg-network \
  taxi_ingest:v001 \
  --pg-user="root" \
  --pg-password="root" \
  --pg-host="pgdatabase" \
  --pg-port="5432" \
  --pg-db="ny_taxi" \
  --target-table="yellow_taxi_trips_2021_1" -> to run the taxi_ingest docker image with environment variables for Postgres connection and command line arguments for target table name, year and month. Note that PGHOST is set to pgdatabase which is the name of the Postgres container in the same network.

29) docker run -it \
  -e PGADMIN_DEFAULT_EMAIL="admin@admin.com" \
  -e PGADMIN_DEFAULT_PASSWORD="root" \
  -v pgadmin_data:/var/lib/pgadmin \
  -p 8085:80 \
  --network=pg-network \
  --name pgadmin \
  dpage/pgadmin4 -> to run pgadmin in a docker container with environment variables for default email and password. Also mapping the volume pgadmin_data to /var/lib/pgadmin in the container and exposing port 8085. The container is connected to the same network as the Postgres container.

30) Create docker compose file from the below 2 commands:

        docker run -it --rm \
        -e POSTGRES_USER="root" \
        -e POSTGRES_PASSWORD="root" \
        -e POSTGRES_DB="ny_taxi" \
        -v ny_taxi_postgres_data:/var/lib/postgresql \
        -p 5432:5432 \
        --network=pg-network \
        --name pgdatabase
        postgres:18


        docker run -it \
        -e PGADMIN_DEFAULT_EMAIL="admin@admin.com" \
        -e PGADMIN_DEFAULT_PASSWORD="root" \
        -v pgadmin_data:/var/lib/pgadmin \
        -p 8085:80 \
        --network=pg-network \
        --name pgadmin \
        dpage/pgadmin4 

31) docker compose up -> to run the services defined in the docker-compose.yml file.

32) docker network ls -> to list all the docker networks.

33) docker run -it --rm \
  --network=pipeline_default \
  taxi_ingest:v001 \
  --pg-user="root" \
  --pg-password="root" \
  --pg-host="pgdatabase" \
  --pg-port="5432" \
  --pg-db="ny_taxi" \
  --target-table="yellow_taxi_trips_2021_1" -> to run the taxi_ingest docker image with environment variables for Postgres connection and command line arguments for target table name, year and month. Note that PGHOST is set to pgdatabase which is the name of the Postgres container in the same network pipeline_default created by docker compose.







